# --- PostgreSQL (для n8n, editor_bot и userbot) ---
POSTGRES_USER=parser_user
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD
POSTGRES_DB=parser_db
# postgresql://parser_user:PASSWORD@postgres:5432/parser_db
DATABASE_URL=

# --- n8n ---
N8N_HOST=n8n.neurascope.pro
N8N_PROTOCOL=https
N8N_PORT=5678

# --- Userbot (Telethon, аккаунт @riskerlb) ---
TELEGRAM_API_ID=
TELEGRAM_API_HASH=
TELEGRAM_SESSION_STRING=
# Опционально: fallback канал, если в БД нет каналов (-100... или @channel)
SOURCE_CHANNEL=
# https://n8n.neurascope.pro/webhook/xxx или http://n8n:5678/webhook/xxx
N8N_WEBHOOK_URL=

# --- Userbot internal API (для editor-bot: привязка PDF к посту в обсуждении) ---
USERBOT_API_PORT=8081
USERBOT_API_TOKEN=

# --- Editor Bot (@Neuralookerbot) ---
BOT_TOKEN=
# Опционально: bootstrap главного админа/редактора (Telegram user ID)
EDITOR_CHAT_ID=
# Опционально: bootstrap целевого канала (например -1001234567890)
TARGET_CHANNEL_ID=
# Путь для POST от n8n, обязательно начинается с / (например /incoming/post)
EDITOR_BOT_WEBHOOK_PATH=/incoming/post
# Секрет для заголовка Authorization: Bearer (n8n передаёт тот же токен)
EDITOR_BOT_WEBHOOK_TOKEN=
# URL userbot API для привязки PDF к посту в обсуждении (в Docker: http://userbot:8081)
USERBOT_API_URL=http://userbot:8081
USERBOT_API_TOKEN=
# Оповещения о сбоях в Telegram (user ID, например 551570137). Пусто — не слать.
ALERT_CHAT_ID=

# --- Бэкапы БД (scripts/backup_db.sh, cron). Cron не читает .env — задать в crontab или wrapper-скрипте ---
# BACKUP_DIR=./backups
# KEEP_DAYS=7

# --- Cron: проверка контейнеров (scripts/health_alert.sh) ---
# Тот же BOT_TOKEN или отдельный бот; chat_id — куда слать (user ID).
# TELEGRAM_ALERT_BOT_TOKEN=
# TELEGRAM_ALERT_CHAT_ID=551570137

# --- OpenAI (для n8n workflow) ---
OPENAI_API_KEY=
# Опционально: прокси для исходящих запросов n8n (OpenAI и др.). Пример: http://proxy:3128
# HTTP_PROXY=
# HTTPS_PROXY=
# Прокси для Telegram (editor-bot, userbot). Если пусто — используется HTTP_PROXY. Пример: http://proxy:3128
# TELEGRAM_PROXY=

# --- VK (заготовка, пока не используется) ---
VK_ENABLED=false
VK_TOKEN=
VK_GROUP_ID=
